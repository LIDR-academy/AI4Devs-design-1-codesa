graph TD
  %% Contexto
  subgraph "AWS Cloud"
    API_GW[ğŸ›¡ API Gateway] 
    Cognito[ğŸ”‘ AWS Cognito]

    %% Contenedores: Microservicios
    subgraph "Microservicios (Spring Boot)"
      MS_Usuarios[ğŸŸ¦ GestiÃ³n de Usuarios]
      MS_Candidatos[ğŸŸ¦ GestiÃ³n de Candidatos]
      MS_Vacantes[ğŸŸ¦ GestiÃ³n de Vacantes]
      MS_Postulaciones[ğŸŸ¦ GestiÃ³n de Postulaciones]
      MS_Correos[ğŸ“§ Servicio de Correos]
    end

    %% Bases de Datos
    subgraph "Bases de Datos (Oracle - Amazon RDS)"
      DB_Usuarios[(ğŸ—„ Oracle - Usuarios)]
      DB_Candidatos[(ğŸ—„ Oracle - Candidatos)]
      DB_Vacantes[(ğŸ—„ Oracle - Vacantes)]
      DB_Postulaciones[(ğŸ—„ Oracle - Postulaciones)]
    end
  end

  %% Conexiones
  WebApp -->|HTTPS| API_GW
  API_GW -->|ğŸ”‘ AutenticaciÃ³n| Cognito
  API_GW -->|ğŸ” Llamadas API| MS_Usuarios
  API_GW -->|ğŸ” Llamadas API| MS_Candidatos
  API_GW -->|ğŸ” Llamadas API| MS_Vacantes
  API_GW -->|ğŸ” Llamadas API| MS_Postulaciones

  MS_Postulaciones -.->|ğŸ“© NotificaciÃ³n| MS_Correos

  MS_Usuarios -->|ğŸ“‚ Datos| DB_Usuarios
  MS_Candidatos -->|ğŸ“‚ Datos| DB_Candidatos
  MS_Vacantes -->|ğŸ“‚ Datos| DB_Vacantes
  MS_Postulaciones -->|ğŸ“‚ Datos| DB_Postulaciones

  %% Componente: Servicio de Vacantes
  subgraph "MS_Vacantes Interno"
    Controller[ğŸŒ VacantesController] --> Service[âš™ VacantesService]
    Service --> Repository[ğŸ—„ VacantesRepository]
    Repository -->|Consulta SQL| DB_Vacantes

    Controller -->|ğŸ”‘ ValidaciÃ³n| Security[ğŸ” JWT Auth]
    Controller -->|ğŸ” Llamadas API| MS_Usuarios
    Controller -->|ğŸ” Llamadas API| MS_Postulaciones
  end
